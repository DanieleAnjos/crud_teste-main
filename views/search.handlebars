<!-- views/search.handlebars -->

<div class="container mt-5">
    <h1 class="text-center mb-4">Buscar Livros</h1>
    <form action="/books" method="GET" class="search-form p-4 bg-light rounded shadow-sm">
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="titulo" class="form-label">Título</label>
                <input type="text" name="titulo" id="titulo" class="form-control" placeholder="Digite o título do livro" aria-label="Título do Livro">
            </div>
            <div class="col-md-6">
                <label for="autor" class="form-label">Autor</label>
                <input type="text" name="autor" id="autor" class="form-control" placeholder="Digite o nome do autor" aria-label="Nome do Autor">
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="categoria" class="form-label">Categoria</label>
                <input type="text" name="categoria" id="categoria" class="form-control" placeholder="Digite a categoria do livro" aria-label="Categoria do Livro">
            </div>
            <div class="col-md-6">
                <label for="ano" class="form-label">Ano</label>
                <input type="number" name="ano" id="ano" class="form-control" placeholder="Digite o ano de publicação" min="1000" max="{{currentYear}}" aria-label="Ano de Publicação">
            </div>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg">Buscar</button>
        </div>
    </form>

    {{#if livros.length}}
        <h2 class="text-center mt-5">Resultados da Busca:</h2>
        <ul class="list-group list-group-flush mt-4">
            {{#each livros}}
                <li class="list-group-item">
                    <h5>{{this.titulo}}</h5>
                    <p><strong>Autor:</strong> {{this.autor}} <br> <strong>Ano:</strong> {{this.ano}}</p>
                </li>
            {{/each}}
        </ul>
    {{else}}
        <p class="text-muted text-center mt-4">Nenhum livro encontrado. Tente ajustar sua busca.</p>
    {{/if}}
</div>
